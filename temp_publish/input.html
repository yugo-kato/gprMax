

<!DOCTYPE html>
<html class="writer-html5" lang="ja">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>入力ファイルのコマンド &mdash; gprMax  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=2aa0fae8"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="_static/translations.js?v=4dbe4bdc"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="next" title="出力データ" href="output.html" />
    <link rel="prev" title="地中レーダモデリングのガイダンス" href="gprmodelling.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            gprMax
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">はじめに</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="include_readme.html">始める</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">ソフトウェアの機能</a></li>
<li class="toctree-l1"><a class="reference internal" href="gprmodelling.html">地中レーダモデリングのガイダンス</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">gprMaxの使用法</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">入力ファイルのコマンド</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#essential-commands">必須のコマンド</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#domain">#domain:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dx-dy-dz">#dx_dy_dz:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-window">#time_window:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#general-commands">一般的なコマンド</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python-and-end-python">#python: and #end_python:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#include-file">#include_file:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-step-stability-factor">#time_step_stability_factor:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#title">#title:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#messages">#messages:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-dir">#output_dir:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#num-threads">#num_threads:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#material-commands">Material commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#built-in-materials">Built-in materials</a></li>
<li class="toctree-l3"><a class="reference internal" href="#material">#material:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-dispersion-debye">#add_dispersion_debye:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-dispersion-lorentz">#add_dispersion_lorentz:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-dispersion-drude">#add_dispersion_drude:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#soil-peplinski">#soil_peplinski:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#object-construction-commands">Object construction commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#anisotropy">Anisotropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dielectric-smoothing">Dielectric smoothing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geometry-view">#geometry_view:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edge">#edge:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plate">#plate:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#triangle">#triangle:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#box">#box:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sphere">#sphere:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cylinder">#cylinder:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cylindrical-sector">#cylindrical_sector:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fractal-box">#fractal_box:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-surface-roughness">#add_surface_roughness:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-surface-water">#add_surface_water:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-grass">#add_grass:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geometry-objects-read">#geometry_objects_read:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geometry-objects-write">#geometry_objects_write:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#source-and-output-commands">Source and output commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#waveform">#waveform:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#excitation-file">#excitation_file:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hertzian-dipole">#hertzian_dipole:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#magnetic-dipole">#magnetic_dipole:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#voltage-source">#voltage_source:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transmission-line">#transmission_line:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rx">#rx:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rx-array">#rx_array:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#src-steps-and-rx-steps">#src_steps: and #rx_steps:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#snapshot">#snapshot:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pml-commands">PML commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pml-cells">#pml_cells:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pml-formulation">#pml_formulation:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pml-cfs">#pml_cfs:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="output.html">出力データ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Pythonツール</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">プロット</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">File utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">高度な話題</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python_scripting.html">Scripting the input file</a></li>
<li class="toctree-l1"><a class="reference internal" href="openmp_mpi.html">OpenMP, MPI, and HPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu.html">GPGPU</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ユーザライブラリ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user_libs_antennas.html">GPR antenna models</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_libs_antenna_patterns.html">Antenna patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_libs_austinman.html">AustinMan/AustinWoman</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_libs_materials.html">Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_libs_opt_taguchi.html">Optimisation - Taguchi's method</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">例</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples_simple_2D.html">Introductory (2D) models</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples_antennas.html">Antenna models</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples_advanced.html">高度な機能</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ヘルプとサポート</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faqs.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="screencasts.html">Screencasts &amp; videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding.html">コードの概要</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">精度と性能</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="comparisons_analytical.html">Analytical comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparisons_numerical.html">Numerical comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarking.html">パフォーマンスベンチマーク</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">付録</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">参考文献</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">gprMax</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">入力ファイルのコマンド</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/input.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="input-file-commands">
<span id="commands"></span><h1>入力ファイルのコマンド<a class="headerlink" href="#input-file-commands" title="この見出しへのパーマリンク"></a></h1>
<p>An input file has to be supplied to gprMax which should contain all the necessary information to run a GPR model. The input file is an ASCII text file which can be prepared with any text editor or word-processing program. In the input file the hash character (<code class="docutils literal notranslate"><span class="pre">#</span></code>) is reserved and is used to denote the beginning of a command which will be passed to gprMax. The general syntax of commands is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#command_name: parameter1 parameter2 parameter3 ...
</pre></div>
</div>
<p>A command and associated parameters should occupy a single line of the input file, and only one command per line is allowed. Hence, the first character of a line containing a command <strong>must</strong> be the hash character (<code class="docutils literal notranslate"><span class="pre">#</span></code>). If the line starts with <strong>any other character</strong> it is ignored by the program. Therefore, user comments or descriptions can be included in the input file. If a line starts with a hash character (<code class="docutils literal notranslate"><span class="pre">#</span></code>) the program will expect a valid command. If the name of the command is not correct the program will abandon execution and issue an error message. When a command requires more than one parameter then these should be separated using a white space character.</p>
<p>The order of commands in the input file is not important with the exception of object construction commands.</p>
<p>To describe the commands that can be used in the input file and their parameters the following conventions are used:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code> means a real number which can be entered using either a <code class="docutils literal notranslate"><span class="pre">[.]</span></code> separating the integral from the decimal part, e.g. 1.5, or in scientific notation, e.g. 15e-1 or 0.15e1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> means an integer number.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code> means a single character, e.g. <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str</span></code> means a string of characters with <strong>no</strong> white spaces in between, e.g <code class="docutils literal notranslate"><span class="pre">sand</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file</span></code> means a filename.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> square brackets are used to indicate optional parameters.</p></li>
</ul>
<p>Unless otherwise specified, the SI system of units is used throughout gprMax:</p>
<ul class="simple">
<li><p>All parameters associated with simulated space (i.e. size of model, spatial increments, etc...) should be specified in <strong>metres</strong>.</p></li>
<li><p>All parameters associated with time (i.e. total simulation time, time instants, etc...) should be specified in <strong>seconds</strong>.</p></li>
<li><p>All parameters denoting frequency should be specified in <strong>Hertz</strong>.</p></li>
<li><p>All parameters associated with spatial coordinates in the model should  be specified in <strong>metres</strong>. The origin of the coordinate system <strong>(0,0)</strong> is at the lower left corner of the model.</p></li>
</ul>
<p>It is important to note that gprMax converts spatial and temporal parameters given in <strong>metres</strong> and <strong>seconds</strong> to integer values corresponding to <strong>FDTD cell coordinates</strong> and <strong>iteration number</strong> respectively. Therefore, rounding to the nearest integer number of the user defined values is performed.</p>
<p>The fundamental spatial and temporal discretization steps are denoted as <span class="math notranslate nohighlight">\(\Delta x\)</span> , <span class="math notranslate nohighlight">\(\Delta y\)</span>, <span class="math notranslate nohighlight">\(\Delta z\)</span> and <span class="math notranslate nohighlight">\(\Delta t\)</span> respectively.</p>
<p>The commands have been grouped into six categories:</p>
<ul class="simple">
<li><p><strong>Essential</strong> - required to run any model, such as the domain size and spatial discretization</p></li>
<li><p><strong>General</strong> - provide further control over the model</p></li>
<li><p><strong>Material</strong> - used to introduce different materials into the model</p></li>
<li><p><strong>Object construction</strong> - used to build geometric shapes with different constitutive parameters</p></li>
<li><p><strong>Source and output</strong> - used to place source and output points in the model</p></li>
<li><p><strong>PML</strong> - provide advanced customisation and optimisation of the absorbing boundary conditions</p></li>
</ul>
<section id="essential-commands">
<h2>必須のコマンド<a class="headerlink" href="#essential-commands" title="この見出しへのパーマリンク"></a></h2>
<p>Most of the commands are optional but there are some essential commands which are necessary in order to construct any model. For example, none of the media and object commands are necessary to run a model. However, without specifying any objects in the model gprMax will simulate free space (air), which on its own, is not particularly useful for GPR modelling. If you have not specified a command which is essential in order to run a model, for example the size of the model, gprMax will terminate execution and issue an appropriate error message.</p>
<p>The essential commands are:</p>
<section id="domain">
<h3>#domain:<a class="headerlink" href="#domain" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to specify the size of the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#domain: f1 f2 f3
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the size of the model in the x, y, and z directions respectively. For example to specify a 500 x 500 x 1000mm model use: <code class="docutils literal notranslate"><span class="pre">#domain:</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">1.0</span></code></p>
</section>
<section id="dx-dy-dz">
<h3>#dx_dy_dz:<a class="headerlink" href="#dx-dy-dz" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to specify the discretization of space in the x , y and z directions respectively (i.e. <span class="math notranslate nohighlight">\(\Delta x\)</span> , <span class="math notranslate nohighlight">\(\Delta y\)</span>, <span class="math notranslate nohighlight">\(\Delta z\)</span>). The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#dx_dy_dz: f1 f2 f3
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">f1</span></code> is the spatial step in the x direction (<span class="math notranslate nohighlight">\(\Delta x\)</span>), <code class="docutils literal notranslate"><span class="pre">f2</span></code> is the spatial step in the y direction (<span class="math notranslate nohighlight">\(\Delta y\)</span>) and <code class="docutils literal notranslate"><span class="pre">f3</span></code> is the spatial step in the z direction (<span class="math notranslate nohighlight">\(\Delta z\)</span>). The spatial discretization controls the maximum permissible time step <span class="math notranslate nohighlight">\(\Delta t\)</span> with which the solution advances in time in order to reach the required simulated time window. The relation between <span class="math notranslate nohighlight">\(\Delta t\)</span> and <span class="math notranslate nohighlight">\(\Delta x\)</span> , <span class="math notranslate nohighlight">\(\Delta y\)</span>, <span class="math notranslate nohighlight">\(\Delta z\)</span> is:</p>
<div class="math notranslate nohighlight">
\[\Delta t \leq \frac{1}{c\sqrt{\frac{1}{(\Delta x)^2}+\frac{1}{(\Delta y)^2}+\frac{1}{(\Delta z)^2}}},\]</div>
<p>where <span class="math notranslate nohighlight">\(c\)</span> is the speed of light. In gprMax the equality is used to determine <span class="math notranslate nohighlight">\(\Delta t\)</span> from <span class="math notranslate nohighlight">\(\Delta x\)</span> , <span class="math notranslate nohighlight">\(\Delta y\)</span>, and <span class="math notranslate nohighlight">\(\Delta z\)</span>. Small values of <span class="math notranslate nohighlight">\(\Delta x\)</span> , <span class="math notranslate nohighlight">\(\Delta y\)</span>, and <span class="math notranslate nohighlight">\(\Delta z\)</span> result in small values for <span class="math notranslate nohighlight">\(\Delta t\)</span> which means more iterations in order to reach a given simulated time. However, it is important to note that the smaller the values of <span class="math notranslate nohighlight">\(\Delta x\)</span> , <span class="math notranslate nohighlight">\(\Delta y\)</span>, <span class="math notranslate nohighlight">\(\Delta z\)</span> and <span class="math notranslate nohighlight">\(\Delta t\)</span> are the more accurate your model will be. See the <a class="reference internal" href="gprmodelling.html#guidance"><span class="std std-ref">地中レーダモデリングのガイダンス</span></a> section for tips on choosing a spatial discretisation.</p>
</section>
<section id="time-window">
<h3>#time_window:<a class="headerlink" href="#time-window" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to specify the total required simulated time. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#time_window: f1
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#time_window: i1
</pre></div>
</div>
<p>In the first case the <code class="docutils literal notranslate"><span class="pre">f1</span></code> parameter determines the required simulated time in seconds. For example, if you want to simulate a GPR trace of 20 nanoseconds then <code class="docutils literal notranslate"><span class="pre">#time_window:</span> <span class="pre">20e-9</span></code> can be used. gprMax will perform the necessary number of iterations in order to reach the required simulated time. Alternatively, if the command is specified with an <code class="docutils literal notranslate"><span class="pre">i1</span></code> gprMax will interpret this value as a total number of iterations. Hence the command <code class="docutils literal notranslate"><span class="pre">#time_window:</span> <span class="pre">100</span></code> means that 100 iterations will be performed. The number of iterations and the total simulated time window are related by:</p>
<div class="math notranslate nohighlight">
\[t_w = \Delta t × N_{it},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_w\)</span> is the time window in seconds, <span class="math notranslate nohighlight">\(\Delta t\)</span> the time step, and <span class="math notranslate nohighlight">\(N_{it}\)</span> the number of iterations. gprMax converts the specified time window in seconds to a number of iterations internally using the aforementioned equation. The result of the division is rounded to the nearest integer.</p>
</section>
</section>
<section id="general-commands">
<h2>一般的なコマンド<a class="headerlink" href="#general-commands" title="この見出しへのパーマリンク"></a></h2>
<section id="python-and-end-python">
<span id="python"></span><h3>#python: and #end_python:<a class="headerlink" href="#python-and-end-python" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to write blocks of Python code between <code class="docutils literal notranslate"><span class="pre">#python</span></code> and <code class="docutils literal notranslate"><span class="pre">#end_python</span></code> in the input file. The code is executed when the input file is read by gprMax. For further details see the <a class="reference internal" href="python_scripting.html#python-scripting"><span class="std std-ref">Python section</span></a>.</p>
</section>
<section id="include-file">
<h3>#include_file:<a class="headerlink" href="#include-file" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to include commands from a file. It will insert the commands from the specified file at the location where the <code class="docutils literal notranslate"><span class="pre">#include_file</span></code> command is placed. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#include_file: file1
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">file1</span></code> can be the name of the file containing the commands in the same directory as the input file, or <code class="docutils literal notranslate"><span class="pre">file</span></code> can be the full path to the file containing the commands (allowing you to specify any location).</p>
</section>
<section id="time-step-stability-factor">
<h3>#time_step_stability_factor:<a class="headerlink" href="#time-step-stability-factor" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to alter the value of the time step <span class="math notranslate nohighlight">\(\Delta t\)</span> used by gprMax. gprMax uses the equality in the CFL condition, hence the maximum permissible time step. If a smaller time step is required then the syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#time_step_stability_factor: f1
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">f1</span></code> can take values <span class="math notranslate nohighlight">\(0 &lt; \textrm{f1} \leq 1\)</span>. Then the actual time step used will be <span class="math notranslate nohighlight">\(\textrm{f1} \times \Delta t\)</span>, where <span class="math notranslate nohighlight">\(\Delta t\)</span> is calculated using the equality from the CFL condition.</p>
</section>
<section id="title">
<h3>#title:<a class="headerlink" href="#title" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to include a title for your model. This title is saved in the output file(s). The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#title: str1
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">str1</span></code> can contain white space characters to separate individual words. The title has to be contained in a single line.</p>
</section>
<section id="messages">
<h3>#messages:<a class="headerlink" href="#messages" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to control the amount of information displayed on screen when gprMax is run. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#messages: c1
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">c1</span></code> can be either y (yes) or n (no) which turns on or off the messages on the screen. The default value is y. When messages are on, gprMax will display on the screen information the translation of space and time values to cell coordinates, iteration number, material parameters etc... This information can be useful for error checking.</p>
</section>
<section id="output-dir">
<h3>#output_dir:<a class="headerlink" href="#output-dir" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to control the directory where output file(s) will be stored.  The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#output_dir: str1
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">str1</span></code> can be either the absolute path to the directory for the output file(s) or a path relative to the directory of the input files. The default value is the same as the directory of the input files.</p>
</section>
<section id="num-threads">
<h3>#num_threads:<a class="headerlink" href="#num-threads" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to control how many OpenMP threads (usually the number of physical CPU cores available) are used when running the model. The most computationally intensive parts of gprMax, which are the FDTD solver loops, have been parallelised using <a class="reference external" href="http://openmp.org">OpenMP</a> which supports multi-platform shared memory multiprocessing. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#num_threads: i1
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">i1</span></code> is the number of OpenMP threads to use. If <code class="docutils literal notranslate"><span class="pre">#num_threads</span></code> is not specified gprMax will firstly look to see if the environment variable <code class="docutils literal notranslate"><span class="pre">OMP_NUM_THREADS</span></code> exists, and if not will detect and use all available physical CPU cores on the machine.</p>
</section>
</section>
<section id="material-commands">
<span id="materials"></span><h2>Material commands<a class="headerlink" href="#material-commands" title="この見出しへのパーマリンク"></a></h2>
<section id="built-in-materials">
<h3>Built-in materials<a class="headerlink" href="#built-in-materials" title="この見出しへのパーマリンク"></a></h3>
<p>gprMax has two builtin materials which can be used by specifying the identifiers <code class="docutils literal notranslate"><span class="pre">pec</span></code> and <code class="docutils literal notranslate"><span class="pre">free_space</span></code>. These simulate a perfect electric conductor and air, i.e. a non-magnetic material with <span class="math notranslate nohighlight">\(\epsilon_r = 1\)</span>, <span class="math notranslate nohighlight">\(\sigma = 0\)</span>, respectively. Additionally the identifiers <code class="docutils literal notranslate"><span class="pre">grass</span></code> and <code class="docutils literal notranslate"><span class="pre">water</span></code> are currently reserved for internal use and should not be used unless you intentionally want to change their properties.</p>
</section>
<section id="material">
<h3>#material:<a class="headerlink" href="#material" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce a material into the model described by a set of constitutive parameters. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#material: f1 f2 f3 f4 str1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span></code> is the relative permittivity, <span class="math notranslate nohighlight">\(\epsilon_r\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f2</span></code> is the conductivity (Siemens/metre), <span class="math notranslate nohighlight">\(\sigma\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f3</span></code> is the relative permeability, <span class="math notranslate nohighlight">\(\mu_r\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span></code> is the magnetic loss (Ohms/metre), <span class="math notranslate nohighlight">\(\sigma_*\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is an identifier for the material.</p></li>
</ul>
<p>For example <code class="docutils literal notranslate"><span class="pre">#material:</span> <span class="pre">3</span> <span class="pre">0.01</span> <span class="pre">1</span> <span class="pre">0</span> <span class="pre">my_sand</span></code> creates a material called <code class="docutils literal notranslate"><span class="pre">my_sand</span></code> which has a relative permittivity (frequency independent) of <span class="math notranslate nohighlight">\(\epsilon_r = 3\)</span>, a conductivity of <span class="math notranslate nohighlight">\(\sigma = 0.01\)</span> S/m, and is non-magnetic, i.e. <span class="math notranslate nohighlight">\(\mu_r = 1\)</span> and <span class="math notranslate nohighlight">\(\sigma_* = 0\)</span></p>
</section>
<section id="add-dispersion-debye">
<h3>#add_dispersion_debye:<a class="headerlink" href="#add-dispersion-debye" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to add dispersive properties to an already defined <code class="docutils literal notranslate"><span class="pre">#material</span></code> based on a multiple pole Debye formulation (see <a class="reference internal" href="features.html#capabilities"><span class="std std-ref">ソフトウェアの機能</span></a> section). For example, the susceptability function for a single-pole Debye material is given by:</p>
<div class="math notranslate nohighlight">
\[\chi_p (t) = \frac{\Delta \epsilon_{rp}}{\tau_p} e^{-t/\tau_p},\]</div>
<p>where <span class="math notranslate nohighlight">\(\Delta \epsilon_{rp} = \epsilon_{rsp} - \epsilon_{r \infty}\)</span>, <span class="math notranslate nohighlight">\(\epsilon_{rsp}\)</span> is the zero-frequency relative permittivity for the pole, <span class="math notranslate nohighlight">\(\epsilon_{r \infty}\)</span> is the relative permittivity at infinite frequency, and <span class="math notranslate nohighlight">\(\tau_p\)</span> is the pole relaxation time.</p>
<p>The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#add_dispersion_debye: i1 f1 f2 f3 f4 ... str1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span></code> is the number of Debye poles.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span></code> is the difference between the zero-frequency relative permittivity and the relative permittivity at infinite frequency, i.e. <span class="math notranslate nohighlight">\(\Delta \epsilon_{rp1} = \epsilon_{rsp1} - \epsilon_{r \infty}\)</span> , for the first Debye pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f2</span></code> is the relaxation time (seconds), <span class="math notranslate nohighlight">\(\tau_{p1}\)</span>, for the first Debye pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f3</span></code> is the difference between the zero-frequency relative permittivity and the relative permittivity at infinite frequency, i.e. <span class="math notranslate nohighlight">\(\Delta \epsilon_{rp2} = \epsilon_{rsp2} - \epsilon_{r \infty}\)</span> , for the second Debye pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span></code> is the relaxation time (seconds), <span class="math notranslate nohighlight">\(\tau_{p2}\)</span>, for the second Debye pole.</p></li>
<li><p>...</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> identifies the material to add the dispersive properties to.</p></li>
</ul>
<p>For example to create a model of water with a single Debye pole, <span class="math notranslate nohighlight">\(\epsilon_{rsp1} = 80.1\)</span>, <span class="math notranslate nohighlight">\(\epsilon_{r \infty} = 4.9\)</span> and <span class="math notranslate nohighlight">\(\tau_{p1} = 9.231\times 10^{-12}\)</span> seconds use: <code class="docutils literal notranslate"><span class="pre">#material:</span> <span class="pre">4.9</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">0</span> <span class="pre">my_water</span></code> and <code class="docutils literal notranslate"><span class="pre">#add_dispersion_debye:</span> <span class="pre">1</span> <span class="pre">75.2</span> <span class="pre">9.231e-12</span> <span class="pre">my_water</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>You can continue to add pairs of values for <span class="math notranslate nohighlight">\(\Delta \epsilon_{rp}\)</span> and <span class="math notranslate nohighlight">\(\tau_p\)</span> for as many Debye poles as you have specified with <code class="docutils literal notranslate"><span class="pre">i1</span></code>.</p></li>
<li><p>The relative permittivity in the <code class="docutils literal notranslate"><span class="pre">#material</span></code> command should be given as the relative permittivity at infinite frequency, i.e. <span class="math notranslate nohighlight">\(\epsilon_{r \infty}\)</span>.</p></li>
<li><p>Temporal values associated with pole frequencies and relaxation times should always be greater than the time step <span class="math notranslate nohighlight">\(\Delta t\)</span> used in the model.</p></li>
</ul>
</div>
</section>
<section id="add-dispersion-lorentz">
<h3>#add_dispersion_lorentz:<a class="headerlink" href="#add-dispersion-lorentz" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to add dispersive properties to an already defined <code class="docutils literal notranslate"><span class="pre">#material</span></code> based on a multiple pole Lorentz formulation (see <a class="reference internal" href="features.html#capabilities"><span class="std std-ref">ソフトウェアの機能</span></a> section). For example, the susceptability function for a single-pole Lorentz material is given by:</p>
<div class="math notranslate nohighlight">
\[\chi_p (t) = \Re \left\{ -j\gamma_p e^{(-\delta_p + j\beta_p)t} \right\},\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\beta_p = \sqrt{\omega_p^2 - \delta_p^2} \quad \textrm{and} \quad \gamma_p = \frac{\omega_p^2 \Delta \epsilon_{rp}}{\beta_p},\]</div>
<p>where <span class="math notranslate nohighlight">\(\Delta \epsilon_{rp} = \epsilon_{rsp} - \epsilon_{r \infty}\)</span>, <span class="math notranslate nohighlight">\(\epsilon_{rsp}\)</span> is the zero-frequency relative permittivity for the pole, <span class="math notranslate nohighlight">\(\epsilon_{r \infty}\)</span> is the relative permittivity at infinite frequency, <span class="math notranslate nohighlight">\(\omega_p\)</span> is the frequency (Hertz) of the pole pair, <span class="math notranslate nohighlight">\(\delta_p\)</span> is the damping coefficient (Hertz) , and <span class="math notranslate nohighlight">\(j=\sqrt{-1}\)</span>.</p>
<p>The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#add_dispersion_lorentz: i1 f1 f2 f3 f4 f5 f6 ... str1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span></code> is the number of Lorentz poles.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span></code> is the difference between the zero-frequency relative permittivity and the relative permittivity at infinite frequency, i.e. <span class="math notranslate nohighlight">\(\Delta \epsilon_{rp1} = \epsilon_{rsp1} - \epsilon_{r \infty}\)</span> , for the first Lorentz pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f2</span></code> is the frequency (Hertz), <span class="math notranslate nohighlight">\(\omega_{p1}\)</span>, for the first Lorentz pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f3</span></code> is the damping coefficient (Hertz), <span class="math notranslate nohighlight">\(\delta_{p1}\)</span>, for the first Lorentz pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span></code> is the difference between the zero-frequency relative permittivity and the relative permittivity at infinite frequency, i.e. <span class="math notranslate nohighlight">\(\Delta \epsilon_{rp2} = \epsilon_{rsp2} - \epsilon_{r \infty}\)</span> , for the second Lorentz pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f5</span></code> is the frequency (Hertz), <span class="math notranslate nohighlight">\(\omega_{p2}\)</span>, for the second Lorentz pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f6</span></code> is the damping coefficient (Hertz), <span class="math notranslate nohighlight">\(\delta_{p2}\)</span>, for the second Lorentz pole.</p></li>
<li><p>...</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> identifies the material to add the dispersive properties to.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>You can continue to add triplets of values for <span class="math notranslate nohighlight">\(\Delta \epsilon_{rp}\)</span>, <span class="math notranslate nohighlight">\(\omega_p\)</span> and <span class="math notranslate nohighlight">\(\delta_p\)</span> for as many Lorentz poles as you have specified with <code class="docutils literal notranslate"><span class="pre">i1</span></code>.</p></li>
<li><p>The relative permittivity in the <code class="docutils literal notranslate"><span class="pre">#material</span></code> command should be given as the relative permittivity at infinite frequency, i.e. <span class="math notranslate nohighlight">\(\epsilon_{r \infty}\)</span>.</p></li>
<li><p>Temporal values associated with pole frequencies and relaxation times should always be greater than the time step <span class="math notranslate nohighlight">\(\Delta t\)</span> used in the model.</p></li>
</ul>
</div>
</section>
<section id="add-dispersion-drude">
<h3>#add_dispersion_drude:<a class="headerlink" href="#add-dispersion-drude" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to add dispersive properties to an already defined <code class="docutils literal notranslate"><span class="pre">#material</span></code> based on a multiple pole Drude formulation (see <a class="reference internal" href="features.html#capabilities"><span class="std std-ref">ソフトウェアの機能</span></a> section). For example, the susceptability function for a single-pole Drude material is given by:</p>
<div class="math notranslate nohighlight">
\[\chi_p (t) = \frac{\omega_p^2}{\gamma_p} (1-e^{-\gamma_p t}),\]</div>
<p>where <span class="math notranslate nohighlight">\(\omega_p\)</span> is the frequency (Hertz) of the pole, and <span class="math notranslate nohighlight">\(\gamma_p\)</span> is the inverse of the pole relaxation time (Hertz).</p>
<p>The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#add_dispersion_drude: i1 f1 f2 f3 f4 ... str1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span></code> is the number of Drude poles.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span></code> is the frequency (Hertz), <span class="math notranslate nohighlight">\(\omega_{p1}\)</span>, for the first Drude pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f2</span></code> is the inverse of the relaxation time (Hertz), <span class="math notranslate nohighlight">\(\gamma_{p1}\)</span>, for the first Drude pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f3</span></code> is the frequency (Hertz), <span class="math notranslate nohighlight">\(\omega_{p2}\)</span>, for the second Drude pole.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span></code> is the inverse of the relaxation time (Hertz), <span class="math notranslate nohighlight">\(\gamma_{p2}\)</span> for the second Drude pole.</p></li>
<li><p>...</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> identifies the material to add the dispersive properties to.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>You can continue to add pairs of values for <span class="math notranslate nohighlight">\(\omega_p\)</span> and <span class="math notranslate nohighlight">\(\gamma_p\)</span> for as many Drude poles as you have specified with <code class="docutils literal notranslate"><span class="pre">i1</span></code>.</p></li>
<li><p>Temporal values associated with pole frequencies and relaxation times should always be greater than the time step <span class="math notranslate nohighlight">\(\Delta t\)</span> used in the model.</p></li>
</ul>
</div>
</section>
<section id="soil-peplinski">
<h3>#soil_peplinski:<a class="headerlink" href="#soil-peplinski" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to use a mixing model for soils proposed by Peplinski (<a class="reference external" href="http://dx.doi.org/10.1109/36.387598">http://dx.doi.org/10.1109/36.387598</a>), valid for frequencies in the range 0.3GHz to 1.3GHz. The command is designed to be used in conjunction with the <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> command for creating soils with realistic dielectric and geometric properties. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#soil_peplinski: f1 f2 f3 f4 f5 f6 str1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span></code> is the sand fraction of the soil.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f2</span></code> is the clay fraction of the soil.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f3</span></code> is the bulk density of the soil in grams per centimetre cubed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span></code> is the density of the sand particles in the soil in grams per centimetre cubed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f5</span></code> and <code class="docutils literal notranslate"><span class="pre">f6</span></code> define a range for the volumetric water fraction of the soil.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is an identifier for the soil.</p></li>
</ul>
<p>For example for a soil with sand fraction 0.5, clay fraction 0.5, bulk density <span class="math notranslate nohighlight">\(2~g/cm^3\)</span>, sand particle density of <span class="math notranslate nohighlight">\(2.66~g/cm^3\)</span>, and a volumetric water fraction range of 0.001 - 0.25 use: <code class="docutils literal notranslate"><span class="pre">#soil_peplinski:</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">2.0</span> <span class="pre">2.66</span> <span class="pre">0.001</span> <span class="pre">0.25</span> <span class="pre">my_soil</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Further information on the Peplinski soil model and our implementation can be found in 'Giannakis, I. (2016). Realistic numerical modelling of Ground Penetrating Radar for landmine detection. The University of Edinburgh. (<a class="reference external" href="http://hdl.handle.net/1842/20449">http://hdl.handle.net/1842/20449</a>)'</p>
</div>
</section>
</section>
<section id="object-construction-commands">
<h2>Object construction commands<a class="headerlink" href="#object-construction-commands" title="この見出しへのパーマリンク"></a></h2>
<p>Object construction commands are processed in the order they appear in the input file. Therefore space in the model allocated to a specific material using for example the <code class="docutils literal notranslate"><span class="pre">#box</span></code> command can be reallocated to another material using the same or any other object construction command. Space in the model can be regarded as a canvas in which objects are introduced and one can be overlaid on top of the other overwriting its properties in order to produce the desired geometry. The object construction commands can therefore be used to create complex shapes and configurations.</p>
<section id="anisotropy">
<h3>Anisotropy<a class="headerlink" href="#anisotropy" title="この見出しへのパーマリンク"></a></h3>
<p>It is possible to specify objects that have diagonal anisotropy which allows materials such as wood and fibre-reinforced composites, often imaged with GPR, to be more accurately modelled.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\bar{\bar{\epsilon}} = \left[ \begin{array}{ccc}
\epsilon_{xx} &amp; 0 &amp; 0 \\
0 &amp; \epsilon_{yy} &amp; 0 \\
0 &amp; 0 &amp; \epsilon_{zz}
\end{array} \right],\quad
\bar{\bar{\sigma}}= \left[ \begin{array}{ccc}
\sigma_{xx} &amp; 0 &amp; 0 \\
0 &amp; \sigma_{yy} &amp; 0 \\
0 &amp; 0 &amp; \sigma_{zz}
\end{array} \right]\end{split}\]</div>
<p>Standard isotropic objects specify one material identifier that defines the same properties in x, y, and z directions. However, every volumetric object building command can also be specified with three material identifiers, which allows properties for the x, y, and z directions to be separately defined. The <code class="docutils literal notranslate"><span class="pre">#plate</span></code> command, which defines a surface, can specify up to two material identifiers, and the <code class="docutils literal notranslate"><span class="pre">#edge</span></code> command, which defines a line, continues to take one material identifier. For example to create a box with different material properties in each of the x, y, and z directions use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#material: 41 10 1 0 matX
#material: 35 10 1 0 matY
#material: 33 1 1 0 matZ
#box: 0 0 0 0.1 0.1 0.1 matX matY matZ
</pre></div>
</div>
<p>As another example, to create a cylinder of radius 10 mm that has the same properties in the x and y directions but different properties in the z direction use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#material: 41 10 1 0 matXY
#material: 33 1 1 0 matZ
#cylinder: 0.1 0.1 0.1 0.5 0.1 0.1 0.01 matXY matXY matZ
</pre></div>
</div>
</section>
<section id="dielectric-smoothing">
<h3>Dielectric smoothing<a class="headerlink" href="#dielectric-smoothing" title="この見出しへのパーマリンク"></a></h3>
<p>At the boundaries between different materials in the model there is the question of which material properties to use. Should the last object to be defined at that location dictate the properties? Should an average set of properties of the materials of the objects that share that location be used? This latter option is often referred to as dielectric smoothing and has been shown to result in more accurate simulations <a class="reference internal" href="references.html#lue1994" id="id1"><span>[LUE1994]</span></a> <a class="reference internal" href="references.html#bou1996" id="id2"><span>[BOU1996]</span></a>. To address this question gprMax includes an option to turn dielectric smoothing on or off for volumetric object building commands. The default behaviour (if no option is specified) is for dielectric smoothing to be on. The option can be specified with a single character <code class="docutils literal notranslate"><span class="pre">y</span></code> (on) or <code class="docutils literal notranslate"><span class="pre">n</span></code> (off) given after the material identifier in each object command. For example to specify a sphere of material <code class="docutils literal notranslate"><span class="pre">sand</span></code> with dielectric smoothing turned off use: <code class="docutils literal notranslate"><span class="pre">#sphere:</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.1</span> <span class="pre">sand</span> <span class="pre">n</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>If a material has dispersive properties then dielectric smoothing is automatically turned off for that material.</p></li>
<li><p>If an object is anistropic then dielectric smoothing is automatically turned off for that object.</p></li>
<li><p>Non-volumetric object building commands, <code class="docutils literal notranslate"><span class="pre">#edge</span></code>, <code class="docutils literal notranslate"><span class="pre">#plate</span></code>, and <code class="docutils literal notranslate"><span class="pre">#triangle</span></code> (applies to triangular patch not triangular prism) cannot have dielectric smoothing.</p></li>
</ul>
</div>
</section>
<section id="geometry-view">
<span id="geometryview"></span><h3>#geometry_view:<a class="headerlink" href="#geometry-view" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you output to file(s) information about the geometry of model. The file(s) use the open source <a class="reference external" href="http://www.vtk.org">Visualization ToolKit (VTK)</a> format which can be viewed in many free readers, such as <a class="reference external" href="http://www.paraview.org">Paraview</a>. The command can be used to create several 3D views of the model which are useful for checking that it has been constructed as desired. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#geometry_view: f1 f2 f3 f4 f5 f6 f7 f8 f9 file1 c1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of the volume of the geometry view in metres.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of the volume of the geometry view in metres.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f7</span> <span class="pre">f8</span> <span class="pre">f9</span></code> are the spatial discretisation of the geometry view in metres. Typically these will be the same as the spatial discretisation of the model but they can be courser if desired.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file1</span></code> is the filename of the file where the geometry view will be stored in the same directory as the input file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> can be either n (normal) or f (fine) which specifies whether to output the geometry information on a per-cell basis (n) or a per-cell-edge basis (f). The fine mode should be reserved for viewing detailed parts of the geometry that occupy small volumes, as using this mode can generate geometry files with large file sizes.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When you want to just check the geometry of your model, run gprMax using the optional command line argument <code class="docutils literal notranslate"><span class="pre">--geometry-only</span></code>. This will build the model and produce any geometry view files, but will not run the simulation.</p>
</div>
</section>
<section id="edge">
<h3>#edge:<a class="headerlink" href="#edge" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce a wire with specific properties into the model. A wire is an edge of a Yee cell and it can be useful to model resistors or thin wires. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#edge: f1 f2 f3 f4 f5 f6 str1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the starting (x,y,z) coordinates of the edge, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the ending (x,y,z) coordinates of the edge. The coordinates should define a single line.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is a material identifier that must correspond to material that has already been defined in the input file, or is one of the builtin materials <code class="docutils literal notranslate"><span class="pre">pec</span></code> or <code class="docutils literal notranslate"><span class="pre">free_space</span></code>.</p></li>
</ul>
<p>For example to specify a x-directed wire that is a perfect electric conductor, use: <code class="docutils literal notranslate"><span class="pre">#edge:</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.7</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">pec</span></code>. Note that the y and z coordinates are identical.</p>
</section>
<section id="plate">
<h3>#plate:<a class="headerlink" href="#plate" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce a plate with specific properties into the model. A plate is a surface of a Yee cell and it can be useful to model objects thinner than a Yee cell. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#plate: f1 f2 f3 f4 f5 f6 str1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of the plate, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of the plate. The coordinates should define a surface and not a 3D object like the <code class="docutils literal notranslate"><span class="pre">#box</span></code> command.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is a material identifier that must correspond to material that has already been defined in the input file, or is one of the builtin materials <code class="docutils literal notranslate"><span class="pre">pec</span></code> or <code class="docutils literal notranslate"><span class="pre">free_space</span></code>.</p></li>
</ul>
<p>For example to specify a xy oriented plate that is a perfect electric conductor, use: <code class="docutils literal notranslate"><span class="pre">#plate:</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.7</span> <span class="pre">0.8</span> <span class="pre">0.5</span> <span class="pre">pec</span></code>. Note that the z coordinates are identical.</p>
</section>
<section id="triangle">
<h3>#triangle:<a class="headerlink" href="#triangle" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce a triangular patch or a triangular prism with specific properties into the model. The patch is just a triangular surface made as a collection of staircased Yee cells, and the triangular prism extends the triangular patch in the direction perpendicular to the plane. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#triangle: f1 f2 f3 f4 f5 f6 f7 f8 f9 f10 str1 [c1]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the coordinates (x,y,z) of the first apex of the triangle, <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> the coordinates (x,y,z) of the second apex, and <code class="docutils literal notranslate"><span class="pre">f7</span> <span class="pre">f8</span> <span class="pre">f9</span></code> the coordinates (x,y,z) of the third apex.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f10</span></code> is the thickness of the triangular prism. If the thickness is zero then a triangular patch is created.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is a material identifier that must correspond to material that has already been defined in the input file, or is one of the builtin materials <code class="docutils literal notranslate"><span class="pre">pec</span></code> or <code class="docutils literal notranslate"><span class="pre">free_space</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is an optional parameter which can be <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>, used to switch on and off dielectric smoothing. For use only when creating a triangular prism, not a triangular patch.</p></li>
</ul>
<p>For example, to specify a xy orientated triangular patch that is a perfect electric conductor, use: <code class="docutils literal notranslate"><span class="pre">#triangle:</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.6</span> <span class="pre">0.4</span> <span class="pre">0.5</span> <span class="pre">0.7</span> <span class="pre">0.9</span> <span class="pre">0.5</span> <span class="pre">0.0</span> <span class="pre">pec</span></code>. Note that the z coordinates are identical and the thickness is zero.</p>
</section>
<section id="box">
<h3>#box:<a class="headerlink" href="#box" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce an orthogonal parallelepiped with specific properties into the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#box: f1 f2 f3 f4 f5 f6 str1 [c1]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of the parallelepiped, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of the parallelepiped.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is a material identifier that must correspond to material that has already been defined in the input file, or is one of the builtin materials <code class="docutils literal notranslate"><span class="pre">pec</span></code> or <code class="docutils literal notranslate"><span class="pre">free_space</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is an optional parameter which can be <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>, used to switch on and off dielectric smoothing.</p></li>
</ul>
</section>
<section id="sphere">
<h3>#sphere:<a class="headerlink" href="#sphere" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce a spherical object with specific parameters into the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#sphere: f1 f2 f3 f4 str1 [c1]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the coordinates (x,y,z) of the centre of the sphere.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span></code> is its radius.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is a material identifier that must correspond to material that has already been defined in the input file, or is one of the builtin materials <code class="docutils literal notranslate"><span class="pre">pec</span></code> or <code class="docutils literal notranslate"><span class="pre">free_space</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is an optional parameter which can be <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>, used to switch on and off dielectric smoothing.</p></li>
</ul>
<p>For example, to specify a sphere with centre at (0.5, 0.5, 0.5), radius 100 mm, and with constitutive parameters of <code class="docutils literal notranslate"><span class="pre">my_sand</span></code>, use: <code class="docutils literal notranslate"><span class="pre">#sphere:</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.1</span> <span class="pre">my_sand</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>Sphere objects are permitted to extend outwith the model domain if desired, however, only parts of object inside the domain will be created.</p></li>
</ul>
</div>
</section>
<section id="cylinder">
<h3>#cylinder:<a class="headerlink" href="#cylinder" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce a circular cylinder into the model. The orientation of the cylinder axis can be arbitrary, i.e. it does not have align with one of the Cartesian axes of the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#cylinder: f1 f2 f3 f4 f5 f6 f7 str1 [c1]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the coordinates (x,y,z) of the centre of one face of the cylinder, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the coordinates (x,y,z) of the centre of the other face.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f7</span></code> is the radius of the cylinder.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is a material identifier that must correspond to material that has already been defined in the input file, or is one of the builtin materials <code class="docutils literal notranslate"><span class="pre">pec</span></code> or <code class="docutils literal notranslate"><span class="pre">free_space</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is an optional parameter which can be <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>, used to switch on and off dielectric smoothing.</p></li>
</ul>
<p>For example, to specify a cylinder with its axis in the y direction, a length of 0.7 m, a radius of 100 mm, and that is a perfect electric conductor, use: <code class="docutils literal notranslate"><span class="pre">#cylinder:</span> <span class="pre">0.5</span> <span class="pre">0.1</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">0.8</span> <span class="pre">0.5</span> <span class="pre">0.1</span> <span class="pre">pec</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>Cylinder objects are permitted to extend outwith the model domain if desired, however, only parts of object inside the domain will be created.</p></li>
</ul>
</div>
</section>
<section id="cylindrical-sector">
<h3>#cylindrical_sector:<a class="headerlink" href="#cylindrical-sector" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce a cylindrical sector (shaped like a slice of pie) into the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#cylindrical_sector: c1 f1 f2 f3 f4 f5 f6 f7 str1 [c1]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is the direction of the axis of the cylinder from which the sector is defined and can be <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, or <code class="docutils literal notranslate"><span class="pre">z</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span></code> are the coordinates of the centre of the cylindrical sector.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f3</span> <span class="pre">f4</span></code> are the lower and higher coordinates of the axis of the cylinder from which the sector is defined (in effect they specify the thickness of the sector).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f5</span></code> is the radius of the cylindrical sector.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f6</span></code> is the starting angle (in degrees) for the cylindrical sector (with zero degrees defined on the positive first axis of the plane of the cylindrical sector).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f7</span></code> is the angle (in degrees) swept by the cylindrical sector (the finishing angle of the sector is always anti-clockwise from the starting angle).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is a material identifier that must correspond to material that has already been defined in the input file, or is one of the builtin materials <code class="docutils literal notranslate"><span class="pre">pec</span></code> or <code class="docutils literal notranslate"><span class="pre">free_space</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is an optional parameter which can be <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>, used to switch on and off dielectric smoothing.</p></li>
</ul>
<p>For example, to specify a cylindrical sector with its axis in the z direction, radius of 0.25 m, thickness of 2 mm, a starting angle of 330 <span class="math notranslate nohighlight">\(^\circ\)</span>, a sector angle of 60 <span class="math notranslate nohighlight">\(^\circ\)</span>, and that is a perfect electric conductor, use: <code class="docutils literal notranslate"><span class="pre">#cylindrical_sector:</span> <span class="pre">z</span> <span class="pre">0.34</span> <span class="pre">0.24</span> <span class="pre">0.500</span> <span class="pre">0.502</span> <span class="pre">0.25</span> <span class="pre">330</span> <span class="pre">60</span> <span class="pre">pec</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>Cylindrical sector objects are permitted to extend outwith the model domain if desired, however, only parts of object inside the domain will be created.</p></li>
</ul>
</div>
</section>
<section id="fractal-box">
<span id="fractals"></span><h3>#fractal_box:<a class="headerlink" href="#fractal-box" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce an orthogonal parallelepiped with fractal distributed properties which are related to a mixing model or normal material into the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#fractal_box: f1 f2 f3 f4 f5 f6 f7 f8 f9 f10 i1 str1 str2 [i2] [c1]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of the parallelepiped, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of the parallelepiped.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f7</span></code> is the fractal dimension which, for an orthogonal parallelepiped, should take values between zero and three.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f8</span></code> is used to weight the fractal in the x direction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f9</span></code> is used to weight the fractal in the y direction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f10</span></code> is used to weight the fractal in the z direction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span></code> is the number of materials to use for the fractal distribution (defined according to the associated mixing model). This should be set to one if using a normal material instead of a mixing model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is an identifier for the associated mixing model or material.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str2</span></code> is an identifier for the fractal box itself.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i2</span></code> is an optional parameter which controls the seeding of the random number generator used to create the fractals. By default (if you don't specify this parameter) the random number generator will be seeded by trying to read data from <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code> (or the Windows analogue) if available or from the clock otherwise.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is an optional parameter which can be <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>, used to switch on and off dielectric smoothing. If <code class="docutils literal notranslate"><span class="pre">c1</span></code> is specified then a value for <code class="docutils literal notranslate"><span class="pre">i2</span></code> must also be present.</p></li>
</ul>
<p>For example, to create an orthogonal parallelepiped with fractal distributed properties using a Peplinski mixing model for soil, with 50 different materials over a range of water volumetric fractions from 0.001 - 0.25, you should first define the mixing model using: <code class="docutils literal notranslate"><span class="pre">#soil_peplinski:</span> <span class="pre">0.5</span> <span class="pre">0.5</span> <span class="pre">2.0</span> <span class="pre">2.66</span> <span class="pre">0.001</span> <span class="pre">0.25</span> <span class="pre">my_soil</span></code> and then specify the fractal box using <code class="docutils literal notranslate"><span class="pre">#fractal_box:</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">1.5</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">50</span> <span class="pre">my_soil</span> <span class="pre">my_fractal_box</span></code>.</p>
</section>
<section id="add-surface-roughness">
<h3>#add_surface_roughness:<a class="headerlink" href="#add-surface-roughness" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to add rough surfaces to a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> in the model. A fractal distribution is used for the profile of the rough surface. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#add_surface_roughness: f1 f2 f3 f4 f5 f6 f7 f8 f9 f10 f11 str1 [i1]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of a surface on a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code>, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of a surface on a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code>. The coordinates must locate one of the six surfaces of a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> but do not have to extend over the entire surface.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f7</span></code> is the fractal dimension which, for an orthogonal parallelepiped, should take values between zero and three.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f8</span></code> is used to weight the fractal in the first direction of the surface.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f9</span></code> is used to weight the fractal in the second direction of the surface.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f10</span> <span class="pre">f11</span></code> define lower and upper limits for a range over which the roughness can vary. These limits should be specified relative to the dimensions of the <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> that the rough surface is being applied.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is an identifier for the <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> that the rough surface should be applied to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span></code> is an optional parameter which controls the seeding of the random number generator used to create the fractals. By default (if you don't specify this parameter) the random number generator will be seeded by trying to read data from <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code> (or the Windows analogue) if available or from the clock otherwise.</p></li>
</ul>
<p>Up to six <code class="docutils literal notranslate"><span class="pre">#add_rough_surface</span> <span class="pre">commands</span></code> can be given for any <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> corresponding to the six surfaces.</p>
<p>For example, if a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> has been specified using: <code class="docutils literal notranslate"><span class="pre">#fractal_box:</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">1.5</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">50</span> <span class="pre">my_soil</span> <span class="pre">my_fractal_box</span></code> then to apply a rough surface that varys between 85 mm and 110 mm (i.e. valleys that are up to 15 mm deep and peaks that are up to 10 mm tall) to the surface that is in the positive z direction, use <code class="docutils literal notranslate"><span class="pre">#add_surface_roughness:</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">1.5</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">0.085</span> <span class="pre">0.110</span> <span class="pre">my_fractal_box</span></code>.</p>
</section>
<section id="add-surface-water">
<h3>#add_surface_water:<a class="headerlink" href="#add-surface-water" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to add surface water to a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> in the model that has had a rough surface applied. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#add_surface_water: f1 f2 f3 f4 f5 f6 f7 str1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of a surface on a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code>, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of a surface on a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code>. The coordinates must locate one of the six surfaces of a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> but do not have to extend over the entire surface.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f7</span></code> defines the depth of the water, which should be specified relative to the dimensions of the <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> that the surface water is being applied.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is an identifier for the <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> that the surface water should be applied to.</p></li>
</ul>
<p>For example, to add surface water that is 5 mm deep to an existing <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> that has been specified using <code class="docutils literal notranslate"><span class="pre">#fractal_box:</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">1.5</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">50</span> <span class="pre">my_soil</span> <span class="pre">my_fractal_box</span></code> and has had a rough surface applied using <code class="docutils literal notranslate"><span class="pre">#add_surface_roughness:</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">1.5</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">0.085</span> <span class="pre">0.110</span> <span class="pre">my_fractal_box</span></code>, use <code class="docutils literal notranslate"><span class="pre">#add_surface_water:</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.105</span> <span class="pre">my_fractal_box</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>The water is modelled using a single-pole Debye formulation with properties <span class="math notranslate nohighlight">\(\epsilon_{rs} = 80.1\)</span>, <span class="math notranslate nohighlight">\(\epsilon_{\infty} = 4.9\)</span>, and a relaxation time of <span class="math notranslate nohighlight">\(\tau = 9.231 \times 10^{-12}\)</span> seconds (<a class="reference external" href="http://dx.doi.org/10.1109/TGRS.2006.873208">http://dx.doi.org/10.1109/TGRS.2006.873208</a>). If you prefer, gprMax will use your own definition for water as long as it is named <code class="docutils literal notranslate"><span class="pre">water</span></code>.</p></li>
</ul>
</div>
</section>
<section id="add-grass">
<h3>#add_grass:<a class="headerlink" href="#add-grass" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to add grass with roots to a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> in the model. The blades of grass are randomly distributed over the specified surface area and a fractal distribution is used to vary the height of the blades of grass and depth of the grass roots. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#add_grass: f1 f2 f3 f4 f5 f6 f7 f8 f9 i1 str1 [i2]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of a surface on a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code>, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of a surface on a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code>. The coordinates must locate one of three surfaces (in the positive axis direction) of a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> but do not have to extend over the entire surface.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f7</span></code> is the fractal dimension which, for an orthogonal parallelepiped, should take values between zero and three.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f8</span> <span class="pre">f9</span></code> define lower and upper limits for a range over which the height of the blades of grass can vary. These limits should be specified relative to the dimensions of the <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> that the grass is being applied.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span></code> is the number of blades of grass that should be applied to the surface area.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is an identifier for the <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> that the grass should be applied to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i2</span></code> is an optional parameter which controls the seeding of the random number generator used to create the fractals. By default (if you don't specify this parameter) the random number generator will be seeded by trying to read data from <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code> (or the Windows analogue) if available or from the clock otherwise.</p></li>
</ul>
<p>For example, to apply 100 blades of grass that vary in height between 100 and 150 mm to the entire surface in the positive z direction of a <code class="docutils literal notranslate"><span class="pre">#fractal_box</span></code> that had been specified using <code class="docutils literal notranslate"><span class="pre">#fractal_box:</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">1.5</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">50</span> <span class="pre">my_soil</span> <span class="pre">my_fractal_box</span></code>, use <code class="docutils literal notranslate"><span class="pre">#add_grass:</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">1.5</span> <span class="pre">0.2</span> <span class="pre">0.25</span> <span class="pre">100</span> <span class="pre">my_fractal_box</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>The grass is modelled using a single-pole Debye formulation with properties <span class="math notranslate nohighlight">\(\epsilon_{rs} = 18.5087\)</span>, <span class="math notranslate nohighlight">\(\epsilon_{\infty} = 12.7174\)</span>, and a relaxation time of <span class="math notranslate nohighlight">\(\tau = 1.0793 \times 10^{-11}\)</span> seconds (<a class="reference external" href="http://dx.doi.org/10.1007/BF00902994">http://dx.doi.org/10.1007/BF00902994</a>). If you prefer, gprMax will use your own definition for grass if you use a material named <code class="docutils literal notranslate"><span class="pre">grass</span></code>. The geometry of the blades of grass are defined by the parametric equations: <span class="math notranslate nohighlight">\(x = x_c +s_x {\left( \frac{t}{b_x} \right)}^2\)</span>, <span class="math notranslate nohighlight">\(y = y_c +s_y {\left( \frac{t}{b_y} \right)}^2\)</span>, and <span class="math notranslate nohighlight">\(z=t\)</span>, where <span class="math notranslate nohighlight">\(s_x\)</span> and <span class="math notranslate nohighlight">\(s_y\)</span> can be -1 or 1 which are randomly chosen, and where the constants <span class="math notranslate nohighlight">\(b_x\)</span> and <span class="math notranslate nohighlight">\(b_y\)</span> are random numbers based on a Gaussian distribution.</p></li>
</ul>
</div>
</section>
<section id="geometry-objects-read">
<h3>#geometry_objects_read:<a class="headerlink" href="#geometry-objects-read" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to insert pre-defined geometry into a model. The geometry is specified using a 3D array of integer numbers stored in a HDF5 file. The integer numbers must correspond to the order of a list of <code class="docutils literal notranslate"><span class="pre">#material</span></code> commands specified in a text file. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#geometry_objects_read: f1 f2 f3 file1 file2
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates in the domain where the lower left corner of the geometry array should be placed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file1</span></code> is the path to and filename of the HDF5 file that contains an integer array which defines the geometry.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file2</span></code> is the path to and filename of the text file that contains <code class="docutils literal notranslate"><span class="pre">#material</span></code> commands.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is an optional parameter which can be <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>, used to switch on and off dielectric smoothing. Dielectric smoothing can only be turned on if the geometry objects that are being read were originally generated by gprMax, i.e. via the <code class="docutils literal notranslate"><span class="pre">#geometry_objects_write</span></code> command.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>The integer numbers in the HDF5 file must be stored as a NumPy array at the root named <code class="docutils literal notranslate"><span class="pre">data</span></code> with type <code class="docutils literal notranslate"><span class="pre">np.int16</span></code>.</p></li>
<li><p>The integer numbers in the HDF5 file correspond to the order of material commands in the materials text file, i.e. if <code class="docutils literal notranslate"><span class="pre">#sand:</span> <span class="pre">3</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">0</span></code> is the first material in the materials file, it will be associated with any integers that are zero in the HDF5 file.</p></li>
<li><p>You can use an integer of -1 in the HDF5 file to indicate not to build any material at that location, i.e. whatever material is already in the model at that location.</p></li>
<li><p>The spatial resolution of the geometry objects must match the spatial resolution defined in the model.</p></li>
<li><p>The spatial resolution must be specified as a root attribute of the HDF5 file with the name <code class="docutils literal notranslate"><span class="pre">dx_dy_dz</span></code> equal to a tuple of floats, e.g. (0.002, 0.002, 0.002)</p></li>
<li><p>If the geometry objects being imported were originally generated using gprMax, i.e. exported using #geometry_objects_write, then you can use dielectric smoothing as you like when generating the original geometry objects. However, if the geometry objects being imported were generated by an external method then dielectric smoothing will not take place.</p></li>
</ul>
</div>
<p>For example, to insert a 2x2x2mm^3 AustinMan model with the lower left corner 40mm from the origin of the domain, and using disperive material properties use <code class="docutils literal notranslate"><span class="pre">#geometry_objects_read:</span> <span class="pre">0.04</span> <span class="pre">0.04</span> <span class="pre">0.04</span> <span class="pre">../user_libs/AustinManWoman/AustinMan_v2.3_2x2x2.h5</span> <span class="pre">../user_libs/AustinManWoman/AustinManWoman_materials_dispersive.txt</span></code></p>
</section>
<section id="geometry-objects-write">
<h3>#geometry_objects_write:<a class="headerlink" href="#geometry-objects-write" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to write geometry generated in a model to file. The file can be read back into gprMax using the <code class="docutils literal notranslate"><span class="pre">#geometry_objects_read</span></code> command. This allows complex geometry that can take some time to generate to be saved to file and more quickly imported into subsequent models. The geometry information is saved as a 3D array of integer numbers stored in a HDF5 file, and corresponding material information is stored in a text file. The integer numbers correspond to the order of a list of <code class="docutils literal notranslate"><span class="pre">#material</span></code> commands specified in the text file. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#geometry_objects_write: f1 f2 f3 f4 f5 f6 file1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of the parallelepiped, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of the parallelepiped.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file1</span></code> is the basename for the files where geometry and material information will be stored.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>The structure of the HDF5 file is similar to that described for the <code class="docutils literal notranslate"><span class="pre">#geometry_objects_read</span></code> command but contains additional arrays used internally by gprMax. Therefore <strong>this HDF5 file should NOT be modified by a user outside of gprMax</strong> - doing so risks corrupting your modelled geometry.</p></li>
<li><p>Objects are stored using spatial resolution defined in the model.</p></li>
</ul>
</div>
</section>
</section>
<section id="source-and-output-commands">
<h2>Source and output commands<a class="headerlink" href="#source-and-output-commands" title="この見出しへのパーマリンク"></a></h2>
<section id="waveform">
<h3>#waveform:<a class="headerlink" href="#waveform" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to specify waveforms to use with sources in the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#waveform: str1 f1 f2 str2
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is the type of waveform which can be:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gaussian</span></code> which is a Gaussian waveform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gaussiandot</span></code> which is the first derivative of a Gaussian waveform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gaussiandotnorm</span></code> which is the normalised first derivative of a Gaussian waveform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gaussiandotdot</span></code> which is the second derivative of a Gaussian waveform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gaussiandotdotnorm</span></code> which is the normalised second derivative of a Gaussian waveform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ricker</span></code> which is a Ricker (or Mexican hat) waveform, i.e. the negative, normalised second derivative of a Gaussian waveform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gaussianprime</span></code> which is the first derivative of a Gaussian waveform, directly derived from the aforementioned <code class="docutils literal notranslate"><span class="pre">gaussian</span></code> (see notes below).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gaussiandoubleprime</span></code> which is the second derivative of a Gaussian waveform, directly derived from the aforementioned <code class="docutils literal notranslate"><span class="pre">gaussian</span></code> (see notes below).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sine</span></code> which is a single cycle of a sine waveform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contsine</span></code> which is a continuous sine waveform. In order to avoid introducing noise into the calculation the amplitude of the waveform is modulated for the first cycle of the sine wave (ramp excitation).</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span></code> is the scaling of the maximum amplitude of the waveform (for a <code class="docutils literal notranslate"><span class="pre">#hertzian_dipole</span></code> the units will be Amps, for a <code class="docutils literal notranslate"><span class="pre">#voltage_source</span></code> or <code class="docutils literal notranslate"><span class="pre">#transmission_line</span></code> the units will be Volts).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f2</span></code> is the centre frequency of the waveform (Hertz). In the case of the Gaussian waveform it is related to the pulse width.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str2</span></code> is an identifier for the waveform used to assign it to a source.</p></li>
</ul>
<p>For example, to specify the normalised first derivate of a Gaussian waveform with an amplitude of one and a centre frequency of 1.2GHz, use: <code class="docutils literal notranslate"><span class="pre">#waveform:</span> <span class="pre">gaussiandotnorm</span> <span class="pre">1</span> <span class="pre">1.2e9</span> <span class="pre">my_gauss_pulse</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>The functions used to create the waveforms can be found in the <a class="reference internal" href="plotting.html#waveforms"><span class="std std-ref">tools section</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gaussiandot</span></code>, <code class="docutils literal notranslate"><span class="pre">gaussiandotnorm</span></code>, <code class="docutils literal notranslate"><span class="pre">gaussiandotdot</span></code>, <code class="docutils literal notranslate"><span class="pre">gaussiandotdotnorm</span></code>, <code class="docutils literal notranslate"><span class="pre">ricker</span></code> waveforms have their centre frequencies specified by the user, i.e. they are not derived to the 'base' <code class="docutils literal notranslate"><span class="pre">gaussian</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gaussianprime</span></code> and <code class="docutils literal notranslate"><span class="pre">gaussiandoubleprime</span></code> waveforms are the first derivative and second derivative of the 'base' <code class="docutils literal notranslate"><span class="pre">gaussian</span></code> waveform, i.e. the centre frequencies of the waveforms will rise for the first and second derivatives.</p></li>
</ul>
</div>
</section>
<section id="excitation-file">
<h3>#excitation_file:<a class="headerlink" href="#excitation-file" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to specify an ASCII file that contains amplitude values that specify custom waveform(s) that can be used with sources in the model.</p>
<p>The first row of each column must begin with a identifier string that will be used as the name of each waveform. Subsequent rows should contain amplitude values for the custom waveform you want to use. You can import multiple different waveforms (as columns of amplitude data) in a single file.</p>
<p>Ideally, there should be the same number of amplitude values as number of iterations in your model. If there are less amplitude values than the number of iterations in the model, the end of the sequence of amplitude values will be padded with zero values up to the number of iterations. If extra amplitude values are specified than needed then they are ignored.</p>
<p>Optionally, in the first column of the file you may specify your own time vector of values (which must use the identifier <code class="docutils literal notranslate"><span class="pre">time</span></code>) to use with the amplitude values of the waveform.</p>
<p>The amplitude values will be interpolated using either the aforementioned user specified time vector, or if none was supplied, a vector of time values corresponding to the simulation time step and number of iterations will be used. Key parameters used for the interpolation can be specified in the command.</p>
<p>The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#excitation_file: file1 [str1 str2]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file1</span></code> can be the name of the file containing the specified waveform in the same directory as the input file, or <code class="docutils literal notranslate"><span class="pre">file</span></code> can be the full path to the file containing the specified waveform (allowing you to specify any location).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> and <code class="docutils literal notranslate"><span class="pre">str2</span></code> are an optional parameter pair that allow values for <code class="docutils literal notranslate"><span class="pre">kind</span></code> and <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> to be passed to the interpolation function (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp1d.html">scipy.interpolate.interp1d</a>). If they are not given the default values for the function will be used.</p></li>
</ul>
<p>For example, to specify the file <code class="docutils literal notranslate"><span class="pre">my_waves.txt</span></code>, which contains two custom waveform shapes, use: <code class="docutils literal notranslate"><span class="pre">#excitation_file:</span> <span class="pre">my_waves.txt</span></code>. The contents of the file <code class="docutils literal notranslate"><span class="pre">my_waves.txt</span></code> would take the form:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>time my_pulse1 my_pulse2
0 0 0
1.926e-12 1.2e-6 0
3.852e-12 1.3e-6 1.0e-1
5.778e-12 5.0e-6 1.5e-1
...       ...    ...
...       ...    ...
...       ...    ...
</pre></div>
</div>
<p>Then to use <code class="docutils literal notranslate"><span class="pre">my_pulse1</span></code> custom waveform shape with, for example, a z-polarised Hertzian dipole source:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#hertzian_dipole: z 0.5 0.5 0.5 my_pulse1
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">#waveform</span></code> command is not necessary when using a custom waveform excitation, only the <code class="docutils literal notranslate"><span class="pre">#excitation_file</span></code> command and whatever source is going to be used with the custom waveform excitation.</p></li>
</ul>
</div>
</section>
<section id="hertzian-dipole">
<h3>#hertzian_dipole:<a class="headerlink" href="#hertzian-dipole" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to specify a current density term at an electric field location - the simplest excitation, often referred to as an additive or soft source.</p>
<div class="math notranslate nohighlight">
\[J_s = \frac{I \Delta l}{\Delta x \Delta y \Delta z},\]</div>
<p>where <span class="math notranslate nohighlight">\(J_s\)</span> is the current density, <span class="math notranslate nohighlight">\(I\)</span> is the current, <span class="math notranslate nohighlight">\(\Delta l\)</span> is the length of the infinitesimal electric dipole, and <span class="math notranslate nohighlight">\(\Delta x\)</span>, <span class="math notranslate nohighlight">\(\Delta y\)</span>, and <span class="math notranslate nohighlight">\(\Delta z\)</span> are the spatial resolution of the grid.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\Delta l\)</span> is set equal to <span class="math notranslate nohighlight">\(\Delta x\)</span>, <span class="math notranslate nohighlight">\(\Delta y\)</span>, or <span class="math notranslate nohighlight">\(\Delta z\)</span> depending on the specified polarisation.</p></li>
</ul>
</div>
<p>The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#hertzian_dipole: c1 f1 f2 f3 str1 [f4 f5]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is the polarisation of the source and can be <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, or <code class="docutils literal notranslate"><span class="pre">z</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the coordinates (x,y,z) of the source in the model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span></code> are optional parameters. <code class="docutils literal notranslate"><span class="pre">f4</span></code> is a time delay in starting the source. <code class="docutils literal notranslate"><span class="pre">f5</span></code> is a time to remove the source. If the time window is longer than the source removal time then the source will stop after the source removal time. If the source removal time is longer than the time window then the source will be active for the entire time window. If <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span></code> are omitted the source will start at the beginning of time window and stop at the end of the time window.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is the identifier of the waveform that should be used with the source.</p></li>
</ul>
<p>For example, to use a x-polarised Hertzian dipole with unit amplitude and a 600 MHz centre frequency Ricker waveform, use: <code class="docutils literal notranslate"><span class="pre">#waveform:</span> <span class="pre">ricker</span> <span class="pre">1</span> <span class="pre">600e6</span> <span class="pre">my_ricker_pulse</span></code> and <code class="docutils literal notranslate"><span class="pre">#hertzian_dipole:</span> <span class="pre">x</span> <span class="pre">0.05</span> <span class="pre">0.05</span> <span class="pre">0.05</span> <span class="pre">my_ricker_pulse</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>When a <code class="docutils literal notranslate"><span class="pre">#hertzian_dipole</span></code> is used in a 2D simulation it acts as a line source of current in the invariant (geometry) direction of the simulation.</p></li>
</ul>
</div>
</section>
<section id="magnetic-dipole">
<h3>#magnetic_dipole:<a class="headerlink" href="#magnetic-dipole" title="この見出しへのパーマリンク"></a></h3>
<p>This will simulate an infinitesimal magnetic dipole. This is often referred to as an additive or soft source. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#magnetic_dipole: c1 f1 f2 f3 str1 [f4 f5]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is the polarisation of the source and can be <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, or <code class="docutils literal notranslate"><span class="pre">z</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the coordinates (x,y,z) of the source in the model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span></code> are optional parameters. <code class="docutils literal notranslate"><span class="pre">f4</span></code> is a time delay in starting the source. <code class="docutils literal notranslate"><span class="pre">f5</span></code> is a time to remove the source. If the time window is longer than the source removal time then the source will stop after the source removal time. If the source removal time is longer than the time window then the source will be active for the entire time window. If <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span></code> are omitted the source will start at the beginning of time window and stop at the end of the time window.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is the identifier of the waveform that should be used with the source.</p></li>
</ul>
</section>
<section id="voltage-source">
<h3>#voltage_source:<a class="headerlink" href="#voltage-source" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce a voltage source at an electric field location. It can be a hard source if it's resistance is zero, i.e. the time variation of the specified electric field component is prescribed, or if it's resistance is non-zero it behaves as a resistive voltage source. It is useful for exciting antennas when the physical properties of the antenna are included in the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#voltage_source: c1 f1 f2 f3 f4 str1 [f5 f6]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is the polarisation of the source and can be <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, or <code class="docutils literal notranslate"><span class="pre">z</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the coordinates (x,y,z) of the source in the model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span></code> is the internal resistance of the voltage source in Ohms. If <code class="docutils literal notranslate"><span class="pre">f4</span></code> is set to zero then the voltage source is a hard source. That means it prescribes the value of the electric field component. If the waveform becomes zero then the source is perfectly reflecting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f5</span> <span class="pre">f6</span></code> are optional parameters. <code class="docutils literal notranslate"><span class="pre">f5</span></code> is a time delay in starting the source. <code class="docutils literal notranslate"><span class="pre">f6</span></code> is a time to remove the source. If the time window is longer than the source removal time then the source will stop after the source removal time. If the source removal time is longer than the time window then the source will be active for the entire time window. If <code class="docutils literal notranslate"><span class="pre">f5</span> <span class="pre">f6</span></code> are omitted the source will start at the beginning of time window and stop at the end of the time window.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is the identifier of the waveform that should be used with the source.</p></li>
</ul>
<p>For example, to specify a y directed voltage source with an internal resistance of 50 Ohms, an amplitude of five, and a 1.2 GHz centre frequency Gaussian waveform use: <code class="docutils literal notranslate"><span class="pre">#waveform:</span> <span class="pre">gaussian</span> <span class="pre">5</span> <span class="pre">1.2e9</span> <span class="pre">my_gauss_pulse</span></code> and <code class="docutils literal notranslate"><span class="pre">#voltage_source:</span> <span class="pre">y</span> <span class="pre">0.05</span> <span class="pre">0.05</span> <span class="pre">0.05</span> <span class="pre">50</span> <span class="pre">my_gauss_pulse</span></code>.</p>
</section>
<section id="transmission-line">
<h3>#transmission_line:<a class="headerlink" href="#transmission-line" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce a one-dimensional transmission line model <a class="reference internal" href="references.html#mal1994" id="id3"><span>[MAL1994]</span></a> at an electric field location. The transmission line can have a specified resistance greater than zero and less than the impedance of free space (376.73 Ohms). It is useful for exciting antennas when the physical properties of the antenna are included in the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#transmission_line: c1 f1 f2 f3 f4 str1 [f5 f6]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">c1</span></code> is the polarisation of the transmission line and can be <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, or <code class="docutils literal notranslate"><span class="pre">z</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the coordinates (x,y,z) of the transmission line in the model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span></code> is the characteristic resistance of the transmission line source in Ohms. It can be any value greater than zero and less than the impedance of free space (376.73 Ohms).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f5</span> <span class="pre">f6</span></code> are optional parameters. <code class="docutils literal notranslate"><span class="pre">f5</span></code> is a time delay in starting the excitation of the transmission line. <code class="docutils literal notranslate"><span class="pre">f6</span></code> is a time to remove the excitation of the transmission line. If the time window is longer than the excitation of the transmission line removal time then the excitation of the transmission line will stop after the excitation of the transmission line removal time. If the excitation of the transmission line removal time is longer than the time window then the excitation of the transmission line will be active for the entire time window. If <code class="docutils literal notranslate"><span class="pre">f5</span> <span class="pre">f6</span></code> are omitted the excitation of the transmission line will start at the beginning of time window and stop at the end of the time window.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is the identifier of the waveform that should be used with the source.</p></li>
</ul>
<p>Time histories of voltage and current values in the transmission line are saved to the output file. These are documented in the <a class="reference internal" href="output.html#output"><span class="std std-ref">output file section</span></a>. These parameters are useful for calculating characteristics of an antenna such as the input impedance or S-parameters. gprMax includes a Python module (in the <code class="docutils literal notranslate"><span class="pre">tools</span></code> package) to help you view the input impedance and s11 parameter from an antenna model fed using a transmission line. Details of how to use this module is given in the <a class="reference internal" href="plotting.html#plotting"><span class="std std-ref">tools section</span></a>.</p>
<p>For example, to specify a z directed transmission line source with a resistance of 75 Ohms, an amplitude of five, and a 1.2 GHz centre frequency Gaussian waveform use: <code class="docutils literal notranslate"><span class="pre">#waveform:</span> <span class="pre">gaussian</span> <span class="pre">5</span> <span class="pre">1.2e9</span> <span class="pre">my_gauss_pulse</span></code> and <code class="docutils literal notranslate"><span class="pre">#transmission_line:</span> <span class="pre">z</span> <span class="pre">0.05</span> <span class="pre">0.05</span> <span class="pre">0.05</span> <span class="pre">75</span> <span class="pre">my_gauss_pulse</span></code>.</p>
<p>An example antenna model using a transmission line can be found in the <a class="reference internal" href="examples_antennas.html#example-wire-dipole"><span class="std std-ref">examples section</span></a>.</p>
</section>
<section id="rx">
<h3>#rx:<a class="headerlink" href="#rx" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to introduce output points into the model. These are locations where the values of the electric and magnetic field components over the number of iterations of the model will be saved to file. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#rx: f1 f2 f3 [str1 str2]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the coordinates (x,y,z) of the receiver in the model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is the identifier of the receiver.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str2</span></code> is a list of outputs with this receiver. It can be any selection from <code class="docutils literal notranslate"><span class="pre">Ex</span></code>, <code class="docutils literal notranslate"><span class="pre">Ey</span></code>, <code class="docutils literal notranslate"><span class="pre">Ez</span></code>, <code class="docutils literal notranslate"><span class="pre">Hx</span></code>, <code class="docutils literal notranslate"><span class="pre">Hy</span></code>, <code class="docutils literal notranslate"><span class="pre">Hz</span></code>, <code class="docutils literal notranslate"><span class="pre">Ix</span></code>, <code class="docutils literal notranslate"><span class="pre">Iy</span></code>, or <code class="docutils literal notranslate"><span class="pre">Iz</span></code>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p>When the optional parameters <code class="docutils literal notranslate"><span class="pre">str1</span></code> and <code class="docutils literal notranslate"><span class="pre">str2</span></code> are not given the default electric and magnetic field components (<code class="docutils literal notranslate"><span class="pre">Ex</span></code>, <code class="docutils literal notranslate"><span class="pre">Ey</span></code>, <code class="docutils literal notranslate"><span class="pre">Ez</span></code>, <code class="docutils literal notranslate"><span class="pre">Hx</span></code>, <code class="docutils literal notranslate"><span class="pre">Hy</span></code>, <code class="docutils literal notranslate"><span class="pre">Hz</span></code>) will be output with the receiver point.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str2</span></code> has no effect if solving using GPU(s), i.e. the default electric and magnetic components (<code class="docutils literal notranslate"><span class="pre">Ex</span></code>, <code class="docutils literal notranslate"><span class="pre">Ey</span></code>, <code class="docutils literal notranslate"><span class="pre">Ez</span></code>, <code class="docutils literal notranslate"><span class="pre">Hx</span></code>, <code class="docutils literal notranslate"><span class="pre">Hy</span></code>, <code class="docutils literal notranslate"><span class="pre">Hz</span></code>) will allways be output irrespective of the value of <code class="docutils literal notranslate"><span class="pre">str2</span></code>.</p></li>
</ul>
</div>
</section>
<section id="rx-array">
<h3>#rx_array:<a class="headerlink" href="#rx-array" title="この見出しへのパーマリンク"></a></h3>
<p>Provides a simple method of defining multiple output points in the model. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#rx_array: f1 f2 f3 f4 f5 f6 f7 f8 f9
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of the output line/rectangle/volume, and <code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of the output line/rectangle/volume.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f7</span> <span class="pre">f8</span> <span class="pre">f9</span></code> are the increments (x,y,z) which define the number of output points in each direction. <code class="docutils literal notranslate"><span class="pre">f7</span></code>, <code class="docutils literal notranslate"><span class="pre">f8</span></code>, or  <code class="docutils literal notranslate"><span class="pre">f9</span></code> can be set to zero to prevent any output points in a particular direction. Otherwise, the minimum value of <code class="docutils literal notranslate"><span class="pre">f7</span></code> is <span class="math notranslate nohighlight">\(\Delta x\)</span>, the minimum value of <code class="docutils literal notranslate"><span class="pre">f8</span></code> is <span class="math notranslate nohighlight">\(\Delta y\)</span>, and the minimum value of <code class="docutils literal notranslate"><span class="pre">f9</span></code> is <span class="math notranslate nohighlight">\(\Delta z\)</span>.</p></li>
</ul>
</section>
<section id="src-steps-and-rx-steps">
<h3>#src_steps: and #rx_steps:<a class="headerlink" href="#src-steps-and-rx-steps" title="この見出しへのパーマリンク"></a></h3>
<p>Provides a simple method to allow you to move the location of all simple sources (<code class="docutils literal notranslate"><span class="pre">#src_steps</span></code>) or all receivers (<code class="docutils literal notranslate"><span class="pre">#rx_steps</span></code>) between runs of a model. The syntax of the commands is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#src_steps: f1 f2 f3
#rx_steps: f1 f2 f3
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are increments (x,y,z) to move all simple sources (<code class="docutils literal notranslate"><span class="pre">#hertzian_dipole</span></code> or <code class="docutils literal notranslate"><span class="pre">#magnetic_dipole</span></code>) or all receivers (created using either <code class="docutils literal notranslate"><span class="pre">#rx</span></code> or <code class="docutils literal notranslate"><span class="pre">#rx_array</span></code> commands).</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">#src_steps</span></code> and <code class="docutils literal notranslate"><span class="pre">#rx_steps</span></code> are not suitable for moving sources which have associated geometry, e.g. antenna models.</p></li>
<li><p>Values for <code class="docutils literal notranslate"><span class="pre">#src_steps</span></code> and <code class="docutils literal notranslate"><span class="pre">#rx_steps</span></code> should not be changed between model runs using Python scripting.</p></li>
</ul>
</div>
</section>
<section id="snapshot">
<h3>#snapshot:<a class="headerlink" href="#snapshot" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to obtain information about the electromagnetic fields within a volume of the model at a given time instant. The file(s) use the open source <a class="reference external" href="http://www.vtk.org">Visualization ToolKit (VTK)</a> format which can be viewed in many free readers, such as <a class="reference external" href="http://www.paraview.org">Paraview</a>. The syntax of this command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#snapshot: f1 f2 f3 f4 f5 f6 f7 f8 f9 f10 file1
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#snapshot: f1 f2 f3 f4 f5 f6 f7 f8 f9 i1 file1
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span> <span class="pre">f3</span></code> are the lower left (x,y,z) coordinates of the volume of the snapshot in metres.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f4</span> <span class="pre">f5</span> <span class="pre">f6</span></code> are the upper right (x,y,z) coordinates of the volume of the snapshot in metres.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f7</span> <span class="pre">f8</span> <span class="pre">f9</span></code> are the spatial discretisation of the snapshot in metres.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f10</span></code> or <code class="docutils literal notranslate"><span class="pre">i1</span></code> are the time in seconds (float) or the iteration number (integer) which denote the point in time at which the snapshot will be taken.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file1</span></code> is the name of the file where the snapshot will be stored. Snapshot files are automatically stored in a directory with the name of the input file appended with '_snaps'. For multiple model runs each model run will have its own directory, i.e. '_snaps1', 'snaps2' etc...</p></li>
</ul>
<p>For example to save a snapshot of the electromagnetic fields in the model at a simulated time of 3 nanoseconds use: <code class="docutils literal notranslate"><span class="pre">#snapshot:</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">0.1</span> <span class="pre">3e-9</span> <span class="pre">snap1</span></code></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can take advantage of Python scripting to easily create a series of snapshots. For example, to create 30 snapshots starting at time 0.1ns until 3ns in intervals of 0.1ns, use the following code snippet in your input file. Replace <code class="docutils literal notranslate"><span class="pre">x1</span> <span class="pre">y1</span> <span class="pre">z1</span> <span class="pre">x2</span> <span class="pre">y2</span> <span class="pre">z2</span> <span class="pre">dx</span> <span class="pre">dy</span> <span class="pre">dz</span></code> accordingly.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#python:
for i in range(1, 31):
    print(&#39;#snapshot: x1 y1 z1 x2 y2 z2 dx dy dz {} snapshot{}&#39;.format((i/10)*1e-9, i))
#end_python:
</pre></div>
</div>
</div>
</section>
</section>
<section id="pml-commands">
<span id="id6"></span><h2>PML commands<a class="headerlink" href="#pml-commands" title="この見出しへのパーマリンク"></a></h2>
<p>The default behaviour for the absorbing boundary conditions (ABC) is first order Complex Frequency Shifted (CFS) Perfectly Matched Layers (PML), with thicknesses of 10 cells on each of the six sides of the model domain. This can be altered by using the following commands.</p>
<section id="pml-cells">
<h3>#pml_cells:<a class="headerlink" href="#pml-cells" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to control the number of cells (thickness) of PML that are used on the six sides of the model domain. The PML is defined within the model domain, i.e. it is not added to the domain size. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#pml_cells: i1 [i2 i3 i4 i5 i6]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span></code> is the number of cells of PML to use on all sides of the model domain (can be set to zero to completely switch off the PML), or <code class="docutils literal notranslate"><span class="pre">i1</span></code> is the number of cells of PML to use on the side of the model domain nearest the origin of the x-axis (x0).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i2</span></code> is the number of cells of PML to use on the side of the model domain nearest the origin of the y-axis (y0).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i3</span></code> is the number of cells of PML to use on the side of the model domain nearest the origin of the z-axis (z0).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i4</span></code> is the number of cells of PML to use on the side of the model domain furthest from the origin of the x-axis (xmax).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i5</span></code> is the number of cells of PML to use on the side of the model domain furthest from the origin of the y-axis (ymax).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i6</span></code> is the number of cells of PML to use on the side of the model domain furthest from the origin of the z-axis (zmax).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span> <span class="pre">i2</span> <span class="pre">i3</span> <span class="pre">i4</span> <span class="pre">i5</span> <span class="pre">i6</span></code> may be set to zero to turn off the PML on a specific side of the model domain.</p></li>
</ul>
<p>For example to use a PML with 20 cells (thicker than the default 10 cells) on only the z-axis sides of the domain use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#pml_cells: 10 10 20 10 10 20
</pre></div>
</div>
</section>
<section id="pml-formulation">
<h3>#pml_formulation:<a class="headerlink" href="#pml-formulation" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you to alter the formulation used for the PML. The current options are to use the Higher Order RIPML (HORIPML) - <a class="reference external" href="https://doi.org/10.1109/TAP.2011.2180344">https://doi.org/10.1109/TAP.2011.2180344</a>, or Multipole RIPML (MRIPML) - <a class="reference external" href="https://doi.org/10.1109/TAP.2018.2823864">https://doi.org/10.1109/TAP.2018.2823864</a>. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#pml_formulation: str
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">str</span></code> can be either 'HORIPML' or 'MRIPML'</p></li>
</ul>
<p>For example to use the Multipole RIPML:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#pml_formulation: MRIPML
</pre></div>
</div>
</section>
<section id="pml-cfs">
<h3>#pml_cfs:<a class="headerlink" href="#pml-cfs" title="この見出しへのパーマリンク"></a></h3>
<p>Allows you (advanced) control of the parameters that are used to build each order of the PML. Up to a second order PML can currently be specified, i.e. by using two <code class="docutils literal notranslate"><span class="pre">#pml_cfs</span></code> commands. The syntax of the command is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#pml_cfs: str1 str2 f1 f2 str3 str4 f3 f4 str5 str6 f5 f6
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">str1</span></code> is the type of scaling to use for the CFS <span class="math notranslate nohighlight">\(\alpha\)</span> parameter. It can be <code class="docutils literal notranslate"><span class="pre">constant</span></code>, <code class="docutils literal notranslate"><span class="pre">linear</span></code>, <code class="docutils literal notranslate"><span class="pre">quadratic</span></code>, <code class="docutils literal notranslate"><span class="pre">cubic</span></code>, <code class="docutils literal notranslate"><span class="pre">quartic</span></code>, <code class="docutils literal notranslate"><span class="pre">quintic</span></code> and <code class="docutils literal notranslate"><span class="pre">sextic</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str2</span></code> is the direction of the scaling to use for the CFS <span class="math notranslate nohighlight">\(\alpha\)</span> parameter. It can be <code class="docutils literal notranslate"><span class="pre">forward</span></code> or <code class="docutils literal notranslate"><span class="pre">reverse</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f1</span> <span class="pre">f2</span></code> are the minimum and maximum values for the CFS <span class="math notranslate nohighlight">\(\alpha\)</span> parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str3</span></code> is the type of scaling to use for the CFS <span class="math notranslate nohighlight">\(\kappa\)</span> parameter. It can be <code class="docutils literal notranslate"><span class="pre">constant</span></code>, <code class="docutils literal notranslate"><span class="pre">linear</span></code>, <code class="docutils literal notranslate"><span class="pre">quadratic</span></code>, <code class="docutils literal notranslate"><span class="pre">cubic</span></code>, <code class="docutils literal notranslate"><span class="pre">quartic</span></code>, <code class="docutils literal notranslate"><span class="pre">quintic</span></code> and <code class="docutils literal notranslate"><span class="pre">sextic</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str4</span></code> is the direction of the scaling to use for the CFS <span class="math notranslate nohighlight">\(\kappa\)</span> parameter. It can be <code class="docutils literal notranslate"><span class="pre">forward</span></code> or <code class="docutils literal notranslate"><span class="pre">reverse</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f3</span> <span class="pre">f4</span></code> are the minimum and maximum values for the CFS <span class="math notranslate nohighlight">\(\kappa\)</span> parameter. The minimum value for the CFS <span class="math notranslate nohighlight">\(\kappa\)</span> parameter is one.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str5</span></code> is the type of scaling to use for the CFS <span class="math notranslate nohighlight">\(\sigma\)</span> parameter. It can be <code class="docutils literal notranslate"><span class="pre">constant</span></code>, <code class="docutils literal notranslate"><span class="pre">linear</span></code>, <code class="docutils literal notranslate"><span class="pre">quadratic</span></code>, <code class="docutils literal notranslate"><span class="pre">cubic</span></code>, <code class="docutils literal notranslate"><span class="pre">quartic</span></code>, <code class="docutils literal notranslate"><span class="pre">quintic</span></code> and <code class="docutils literal notranslate"><span class="pre">sextic</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str6</span></code> is the direction of the scaling to use for the CFS <span class="math notranslate nohighlight">\(\sigma\)</span> parameter. It can be <code class="docutils literal notranslate"><span class="pre">forward</span></code> or <code class="docutils literal notranslate"><span class="pre">reverse</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f5</span> <span class="pre">f6</span></code> are the minimum and maximum values for the CFS <span class="math notranslate nohighlight">\(\sigma\)</span> parameter.</p></li>
</ul>
<p>The CFS values (which are internally specified) used for the default standard first order PML are: <code class="docutils literal notranslate"><span class="pre">#pml_cfs:</span> <span class="pre">constant</span> <span class="pre">forward</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">constant</span> <span class="pre">forward</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">quartic</span> <span class="pre">forward</span> <span class="pre">0</span> <span class="pre">None</span></code>. Specifying 'None' for the maximum value of <span class="math notranslate nohighlight">\(\sigma\)</span> forces gprMax to calculate it internally based on the relative permittivity and permeability of the underlying materials in the model.</p>
<p>The parameters will be applied to all slabs of the PML that are switched on.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code class="docutils literal notranslate"><span class="pre">forward</span></code> direction implies minimum parameter value at the inner boundary of the PML and maximum parameter value at the edge of computational domain, <code class="docutils literal notranslate"><span class="pre">reverse</span></code> is the opposite.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="gprmodelling.html" class="btn btn-neutral float-left" title="地中レーダモデリングのガイダンス" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="output.html" class="btn btn-neutral float-right" title="出力データ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015-2025, The University of Edinburgh, United Kingdom. Authors: Craig Warren and Antonis Giannopoulos.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>